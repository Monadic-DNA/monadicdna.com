"use client"

import { useState, useEffect } from 'react'
import Link from 'next/link'

const Navbar = () => {
  const [isSidebarOpen, setIsSidebarOpen] = useState(false)

  const toggleSidebar = () => {
    setIsSidebarOpen(!isSidebarOpen)
  }

  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth >= 768 && isSidebarOpen) {
        setIsSidebarOpen(false)
      }
    }

    window.addEventListener('resize', handleResize)
    return () => window.removeEventListener('resize', handleResize)
  }, [isSidebarOpen])

  return (
    <>
      <nav className="fixed w-full z-50 bg-white">
        <div className="mx-auto flex h-16 md:h-20  w-full max-w-[1440px] items-center justify-between px-5 ">
          <Link href="/" className="text-[22px] font-medium leading-[26px] tracking-[-0.24px]">
          <svg className='h-4 md:h-5 w-auto' viewBox="0 0 202 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.112 23V0.599998H7.952L11.824 20.12H12.4L16.272 0.599998H24.112V23H20.016V3.704H19.44L15.6 23H8.624L4.784 3.704H4.208V23H0.112ZM36.0108 23.448C34.4321 23.448 33.0134 23.128 31.7548 22.488C30.4961 21.848 29.5041 20.92 28.7788 19.704C28.0534 18.488 27.6908 17.0267 27.6908 15.32V14.808C27.6908 13.1013 28.0534 11.64 28.7788 10.424C29.5041 9.208 30.4961 8.28 31.7548 7.64C33.0134 7 34.4321 6.68 36.0108 6.68C37.5894 6.68 39.0081 7 40.2668 7.64C41.5254 8.28 42.5174 9.208 43.2428 10.424C43.9681 11.64 44.3308 13.1013 44.3308 14.808V15.32C44.3308 17.0267 43.9681 18.488 43.2428 19.704C42.5174 20.92 41.5254 21.848 40.2668 22.488C39.0081 23.128 37.5894 23.448 36.0108 23.448ZM36.0108 19.864C37.2481 19.864 38.2721 19.4693 39.0828 18.68C39.8934 17.8693 40.2988 16.7173 40.2988 15.224V14.904C40.2988 13.4107 39.8934 12.2693 39.0828 11.48C38.2934 10.6693 37.2694 10.264 36.0108 10.264C34.7734 10.264 33.7494 10.6693 32.9388 11.48C32.1281 12.2693 31.7228 13.4107 31.7228 14.904V15.224C31.7228 16.7173 32.1281 17.8693 32.9388 18.68C33.7494 19.4693 34.7734 19.864 36.0108 19.864ZM48.0525 23V7.128H52.0205V9.208H52.5965C52.8525 8.65333 53.3325 8.13067 54.0365 7.64C54.7405 7.128 55.8072 6.872 57.2365 6.872C58.4738 6.872 59.5512 7.16 60.4685 7.736C61.4072 8.29067 62.1325 9.06933 62.6445 10.072C63.1565 11.0533 63.4125 12.2053 63.4125 13.528V23H59.3805V13.848C59.3805 12.6533 59.0818 11.7573 58.4845 11.16C57.9085 10.5627 57.0765 10.264 55.9885 10.264C54.7512 10.264 53.7912 10.68 53.1085 11.512C52.4258 12.3227 52.0845 13.464 52.0845 14.936V23H48.0525ZM72.6993 23.448C71.5686 23.448 70.5553 23.256 69.6593 22.872C68.7633 22.4667 68.0486 21.8907 67.5153 21.144C67.0033 20.376 66.7473 19.448 66.7473 18.36C66.7473 17.272 67.0033 16.3653 67.5153 15.64C68.0486 14.8933 68.7739 14.3387 69.6913 13.976C70.6299 13.592 71.6966 13.4 72.8913 13.4H77.2433V12.504C77.2433 11.7573 77.0086 11.1493 76.5393 10.68C76.0699 10.1893 75.3233 9.944 74.2993 9.944C73.2966 9.944 72.5499 10.1787 72.0593 10.648C71.5686 11.096 71.2486 11.6827 71.0993 12.408L67.3873 11.16C67.6433 10.3493 68.0486 9.61333 68.6033 8.952C69.1793 8.26933 69.9366 7.72533 70.8753 7.32C71.8353 6.89333 72.9979 6.68 74.3633 6.68C76.4539 6.68 78.1073 7.20267 79.3233 8.248C80.5393 9.29333 81.1473 10.808 81.1473 12.792V18.712C81.1473 19.352 81.4459 19.672 82.0433 19.672H83.3233V23H80.6353C79.8459 23 79.1953 22.808 78.6833 22.424C78.1713 22.04 77.9153 21.528 77.9153 20.888V20.856H77.3073C77.2219 21.112 77.0299 21.4533 76.7313 21.88C76.4326 22.2853 75.9633 22.648 75.3233 22.968C74.6833 23.288 73.8086 23.448 72.6993 23.448ZM73.4033 20.184C74.5339 20.184 75.4513 19.8747 76.1553 19.256C76.8806 18.616 77.2433 17.7733 77.2433 16.728V16.408H73.1793C72.4326 16.408 71.8459 16.568 71.4193 16.888C70.9926 17.208 70.7793 17.656 70.7793 18.232C70.7793 18.808 71.0033 19.2773 71.4513 19.64C71.8993 20.0027 72.5499 20.184 73.4033 20.184ZM92.3588 23.448C91.1001 23.448 89.9161 23.1387 88.8068 22.52C87.7188 21.88 86.8441 20.952 86.1828 19.736C85.5214 18.52 85.1908 17.048 85.1908 15.32V14.808C85.1908 13.08 85.5214 11.608 86.1828 10.392C86.8441 9.176 87.7188 8.25867 88.8068 7.64C89.8948 7 91.0788 6.68 92.3588 6.68C93.3188 6.68 94.1188 6.79733 94.7588 7.032C95.4201 7.24533 95.9534 7.52267 96.3588 7.864C96.7641 8.20533 97.0734 8.568 97.2868 8.952H97.8628V0.599998H101.895V23H97.9268V21.08H97.3508C96.9881 21.6773 96.4228 22.2213 95.6548 22.712C94.9081 23.2027 93.8094 23.448 92.3588 23.448ZM93.5748 19.928C94.8121 19.928 95.8468 19.5333 96.6788 18.744C97.5108 17.9333 97.9268 16.76 97.9268 15.224V14.904C97.9268 13.368 97.5108 12.2053 96.6788 11.416C95.8681 10.6053 94.8334 10.2 93.5748 10.2C92.3374 10.2 91.3028 10.6053 90.4708 11.416C89.6388 12.2053 89.2228 13.368 89.2228 14.904V15.224C89.2228 16.76 89.6388 17.9333 90.4708 18.744C91.3028 19.5333 92.3374 19.928 93.5748 19.928ZM106.365 23V7.128H110.397V23H106.365ZM108.381 5.272C107.656 5.272 107.037 5.03733 106.525 4.568C106.034 4.09867 105.789 3.48 105.789 2.712C105.789 1.944 106.034 1.32533 106.525 0.855999C107.037 0.386665 107.656 0.151999 108.381 0.151999C109.128 0.151999 109.746 0.386665 110.237 0.855999C110.728 1.32533 110.973 1.944 110.973 2.712C110.973 3.48 110.728 4.09867 110.237 4.568C109.746 5.03733 109.128 5.272 108.381 5.272ZM122.321 23.448C120.785 23.448 119.388 23.128 118.129 22.488C116.892 21.848 115.91 20.92 115.185 19.704C114.46 18.488 114.097 17.016 114.097 15.288V14.84C114.097 13.112 114.46 11.64 115.185 10.424C115.91 9.208 116.892 8.28 118.129 7.64C119.388 7 120.785 6.68 122.321 6.68C123.836 6.68 125.137 6.94667 126.225 7.48C127.313 8.01333 128.188 8.74933 128.849 9.688C129.532 10.6053 129.98 11.6507 130.193 12.824L126.289 13.656C126.204 13.016 126.012 12.44 125.713 11.928C125.414 11.416 124.988 11.0107 124.433 10.712C123.9 10.4133 123.228 10.264 122.417 10.264C121.606 10.264 120.87 10.4453 120.209 10.808C119.569 11.1493 119.057 11.672 118.673 12.376C118.31 13.0587 118.129 13.9013 118.129 14.904V15.224C118.129 16.2267 118.31 17.08 118.673 17.784C119.057 18.4667 119.569 18.9893 120.209 19.352C120.87 19.6933 121.606 19.864 122.417 19.864C123.633 19.864 124.55 19.5547 125.169 18.936C125.809 18.296 126.214 17.464 126.385 16.44L130.289 17.368C130.012 18.4987 129.532 19.5333 128.849 20.472C128.188 21.3893 127.313 22.1147 126.225 22.648C125.137 23.1813 123.836 23.448 122.321 23.448ZM140.972 23V19.288H143.916V4.312H140.972V0.599998H150.188C153.196 0.599998 155.479 1.368 157.036 2.904C158.615 4.41867 159.404 6.68 159.404 9.688V13.912C159.404 16.92 158.615 19.192 157.036 20.728C155.479 22.2427 153.196 23 150.188 23H140.972ZM148.14 19.16H150.252C151.959 19.16 153.207 18.712 153.996 17.816C154.785 16.92 155.18 15.6613 155.18 14.04V9.56C155.18 7.91733 154.785 6.65867 153.996 5.784C153.207 4.888 151.959 4.44 150.252 4.44H148.14V19.16ZM162.924 23V0.599998H170.957L175.405 20.12H175.981V0.599998H180.141V23H172.109L167.661 3.48H167.085V23H162.924ZM182.826 23L188.714 0.599998H196.074L201.962 23H197.61L196.394 18.072H188.394L187.178 23H182.826ZM189.386 14.168H195.402L192.682 3.256H192.106L189.386 14.168Z" fill="black"/>
</svg>

          </Link>
          <div className="hidden items-center gap-8 md:flex">
            <Link href="/about" className="text-[15px] leading-6 text-[#344054] hover:text-black">
              About
            </Link>
            <Link href="/faq" className="text-[15px] leading-6 text-[#344054] hover:text-black">
              FAQ
            </Link>
            <Link href="/developers" className="text-[15px] leading-6 text-[#344054] hover:text-black">
              For Developers
            </Link>
          </div>
          <button className="md:hidden" onClick={toggleSidebar}>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 12H21M3 6H21M3 18H21" stroke="#344054" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
          </button>
        </div>
      </nav>

      {/* Side Navigation */}
      <div className={`fixed navbar inset-y-0 right-0 z-50 w-64 transform bg-white shadow-lg transition-transform duration-300 ease-in-out md:hidden ${isSidebarOpen ? 'translate-x-0' : 'translate-x-full'}`}>
        <div className="flex h-[72px] items-center justify-between border-b border-[#EAECF0] px-5">
          <span className=" font-medium leading-[26px] tracking-[-0.24px]">Menu</span>
          <button onClick={toggleSidebar}>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18 6L6 18M6 6L18 18" stroke="#344054" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
          </button>
        </div>
        <div className="flex flex-col gap-4 p-5">
          <Link href="/about" className="text-[15px] leading-6 text-[#344054] hover:text-black">
            About
          </Link>
          <Link href="/faq" className="text-[15px] leading-6 text-[#344054] hover:text-black">
            FAQ
          </Link>
          <Link href="/developers" className="text-[15px] leading-6 text-[#344054] hover:text-black">
            For Developers
          </Link>
        </div>
      </div>

      {/* Overlay */}
      {isSidebarOpen && (
        <div 
          className="fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden" 
          onClick={toggleSidebar}
        ></div>
      )}
    </>
  )
}

export default Navbar

